<!DOCTYPE html>
<html lang="en">
<head>
    <title>Draw GeoJSON points</title>
    <meta property="og:description" content="Draw points from a GeoJSON collection to a map." />
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel='stylesheet' href='https://unpkg.com/maplibre-gl@5.4.0/dist/maplibre-gl.css' />
    <style>
        body { margin: 0; padding: 0; }
        html, body, #map { height: 100%; }
    </style>
</head>
<body>
<div id="map"></div>
<script src='https://unpkg.com/maplibre-gl@5.4.0/dist/maplibre-gl.js'></script>
<script>
    const map = new maplibregl.Map({
        container: 'map',
        style: 'https://raw.githubusercontent.com/go2garret/maps/main/src/assets/json/openStreetMap.json',
        center: [0, 0],
        zoom: 1
    });

    map.on('load', async () => {
        // Add an image to use as a custom marker
        const image = await map.loadImage('https://maplibre.org/maplibre-gl-js/docs/assets/osgeo-logo.png');
        map.addImage('custom-marker', image.data);
        // Add a GeoJSON source with 15 points
        map.addSource('conferences', {
            'type': 'geojson',
            'data': {"type": "FeatureCollection", "features": [{"id": "0", "type": "Feature", "properties": {"id": "home_0", "latitude": 21.27217119736977, "longitude": -157.86520513230823, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.86520513230823, 21.27217119736977]}}, {"id": "1", "type": "Feature", "properties": {"id": "home_1", "latitude": 21.324463428637102, "longitude": -157.87401418156918, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.87401418156918, 21.324463428637102]}}, {"id": "2", "type": "Feature", "properties": {"id": "home_2", "latitude": 21.34630598351346, "longitude": -157.88043539792412, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.88043539792412, 21.34630598351346]}}, {"id": "3", "type": "Feature", "properties": {"id": "home_3", "latitude": 21.257936614784377, "longitude": -157.83561900930994, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.83561900930994, 21.257936614784377]}}, {"id": "4", "type": "Feature", "properties": {"id": "home_4", "latitude": 21.27090774332066, "longitude": -157.90704814952684, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.90704814952684, 21.27090774332066]}}, {"id": "5", "type": "Feature", "properties": {"id": "home_5", "latitude": 21.310412938854093, "longitude": -157.81724943149464, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.81724943149464, 21.310412938854093]}}, {"id": "6", "type": "Feature", "properties": {"id": "home_6", "latitude": 21.29133568819228, "longitude": -157.81289959559328, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.81289959559328, 21.29133568819228]}}, {"id": "7", "type": "Feature", "properties": {"id": "home_7", "latitude": 21.279554415358145, "longitude": -157.89762954799303, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.89762954799303, 21.279554415358145]}}, {"id": "8", "type": "Feature", "properties": {"id": "home_8", "latitude": 21.274462790493516, "longitude": -157.86051701561314, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.86051701561314, 21.274462790493516]}}, {"id": "9", "type": "Feature", "properties": {"id": "home_9", "latitude": 21.288457506274664, "longitude": -157.8890542196462, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.8890542196462, 21.288457506274664]}}, {"id": "10", "type": "Feature", "properties": {"id": "home_10", "latitude": 21.286682570397144, "longitude": -157.8678257456667, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.8678257456667, 21.286682570397144]}}, {"id": "11", "type": "Feature", "properties": {"id": "home_11", "latitude": 21.35533472779972, "longitude": -157.90610092564722, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.90610092564722, 21.35533472779972]}}, {"id": "12", "type": "Feature", "properties": {"id": "home_12", "latitude": 21.29640244140678, "longitude": -157.81489757906238, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.81489757906238, 21.29640244140678]}}, {"id": "13", "type": "Feature", "properties": {"id": "home_13", "latitude": 21.348117928698926, "longitude": -157.83154802418255, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.83154802418255, 21.348117928698926]}}, {"id": "14", "type": "Feature", "properties": {"id": "home_14", "latitude": 21.30602687264608, "longitude": -157.83401056581263, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.83401056581263, 21.30602687264608]}}, {"id": "15", "type": "Feature", "properties": {"id": "home_15", "latitude": 21.333691186135876, "longitude": -157.8421305192489, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.8421305192489, 21.333691186135876]}}, {"id": "16", "type": "Feature", "properties": {"id": "home_16", "latitude": 21.267102675155893, "longitude": -157.88894845566944, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.88894845566944, 21.267102675155893]}}, {"id": "17", "type": "Feature", "properties": {"id": "home_17", "latitude": 21.306936819841674, "longitude": -157.85366596142842, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.85366596142842, 21.306936819841674]}}, {"id": "18", "type": "Feature", "properties": {"id": "home_18", "latitude": 21.32066665381966, "longitude": -157.82498489827418, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.82498489827418, 21.32066665381966]}}, {"id": "19", "type": "Feature", "properties": {"id": "home_19", "latitude": 21.345695592547273, "longitude": -157.89843176858543, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.89843176858543, 21.345695592547273]}}, {"id": "20", "type": "Feature", "properties": {"id": "home_20", "latitude": 21.28481280246432, "longitude": -157.85046138681219, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.85046138681219, 21.28481280246432]}}, {"id": "21", "type": "Feature", "properties": {"id": "home_21", "latitude": 21.27622233836827, "longitude": -157.90331951171984, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.90331951171984, 21.27622233836827]}}, {"id": "22", "type": "Feature", "properties": {"id": "home_22", "latitude": 21.290229638403893, "longitude": -157.82816662047162, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.82816662047162, 21.290229638403893]}}, {"id": "23", "type": "Feature", "properties": {"id": "home_23", "latitude": 21.316666303989606, "longitude": -157.89107984657758, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.89107984657758, 21.316666303989606]}}, {"id": "24", "type": "Feature", "properties": {"id": "home_24", "latitude": 21.281961301994546, "longitude": -157.8928348304072, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.8928348304072, 21.281961301994546]}}, {"id": "25", "type": "Feature", "properties": {"id": "home_25", "latitude": 21.354985124183923, "longitude": -157.90662835019745, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.90662835019745, 21.354985124183923]}}, {"id": "26", "type": "Feature", "properties": {"id": "home_26", "latitude": 21.296187611176784, "longitude": -157.8574183739666, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.8574183739666, 21.296187611176784]}}, {"id": "27", "type": "Feature", "properties": {"id": "home_27", "latitude": 21.261845756864936, "longitude": -157.9068713878647, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.9068713878647, 21.261845756864936]}}, {"id": "28", "type": "Feature", "properties": {"id": "home_28", "latitude": 21.346322070546684, "longitude": -157.85124997571097, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.85124997571097, 21.346322070546684]}}, {"id": "29", "type": "Feature", "properties": {"id": "home_29", "latitude": 21.287333075273168, "longitude": -157.81342546542973, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.81342546542973, 21.287333075273168]}}, {"id": "30", "type": "Feature", "properties": {"id": "home_30", "latitude": 21.316391458374007, "longitude": -157.8660240972859, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.8660240972859, 21.316391458374007]}}, {"id": "31", "type": "Feature", "properties": {"id": "home_31", "latitude": 21.28785050823818, "longitude": -157.88918420714103, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.88918420714103, 21.28785050823818]}}, {"id": "32", "type": "Feature", "properties": {"id": "home_32", "latitude": 21.28752490655671, "longitude": -157.86465496451382, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.86465496451382, 21.28752490655671]}}, {"id": "33", "type": "Feature", "properties": {"id": "home_33", "latitude": 21.33469187047528, "longitude": -157.81774264577504, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.81774264577504, 21.33469187047528]}}, {"id": "34", "type": "Feature", "properties": {"id": "home_34", "latitude": 21.261661643650793, "longitude": -157.90162505100386, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.90162505100386, 21.261661643650793]}}, {"id": "35", "type": "Feature", "properties": {"id": "home_35", "latitude": 21.28344369407322, "longitude": -157.82800540991252, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.82800540991252, 21.28344369407322]}}, {"id": "36", "type": "Feature", "properties": {"id": "home_36", "latitude": 21.310598358977476, "longitude": -157.870893025229, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.870893025229, 21.310598358977476]}}, {"id": "37", "type": "Feature", "properties": {"id": "home_37", "latitude": 21.264845157162803, "longitude": -157.84153892701642, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.84153892701642, 21.264845157162803]}}, {"id": "38", "type": "Feature", "properties": {"id": "home_38", "latitude": 21.309738072167914, "longitude": -157.82848319821005, "for_sale": true}, "geometry": {"type": "Point", "coordinates": [-157.82848319821005, 21.309738072167914]}}, {"id": "39", "type": "Feature", "properties": {"id": "home_39", "latitude": 21.292814730421792, "longitude": -157.82197459739712, "for_sale": false}, "geometry": {"type": "Point", "coordinates": [-157.82197459739712, 21.292814730421792]}}]},
        });

        // Add a symbol layer
        map.addLayer({
            'id': 'conferences',
            'type': 'symbol',
            'source': 'conferences',
            'layout': {
                'icon-image': 'custom-marker',
                'text-offset': [0, 1.25],
                'text-anchor': 'top'
            }
        });
    });
</script>
</body>
</html>